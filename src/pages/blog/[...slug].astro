---
// import { CollectionEntry, getCollection } from 'astro:content';
import BlogPost from '../../layouts/BlogPost.astro';
import { getStaticPaths, ContentPiece, Content } from "virtual:vrite";

export { getStaticPaths };
type Props = ContentPiece;

const contentPiece = Astro.props;

// export async function getStaticPaths() {
// 	const posts = await getCollection('blog');
// 	return posts.map((post) => ({
// 		params: { slug: post.slug },
// 		props: post,
// 	}));
// }
// type Props = CollectionEntry<'blog'>;
//
// const post = Astro.props;
// const { Content } = await post.render();
---

<!--<BlogPost {...post.data}>-->
<!--	<Content />-->
<!--</BlogPost>-->

<BlogPost
	title={contentPiece.title}
	description={contentPiece.description || ""}
	pubDate={contentPiece.date ? new Date(contentPiece.date) : new Date()}
	heroImage={contentPiece.coverUrl}
>
	<Content contentPieceId={contentPiece.id} />
</BlogPost>